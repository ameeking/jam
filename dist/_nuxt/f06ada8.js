(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{314:function(e,t,r){"use strict";var o=r(26),n={name:"CardProduct",components:{Card:o.c,Chip:o.d,Button:o.b},props:["id","name","description","image","categories"],data:function(){return{border:!0}},computed:{imagePath:function(){return"https://drupal-9-headless.lndo.site".concat(this.image.uri.url)},link:function(){return"/product/".concat(this.id)}},methods:{categoryHref:function(e){return"/category/".concat(e)}}},c=r(2),component=Object(c.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Card",{attrs:{image:e.imagePath,border:e.border,scale:"16:9"}},[r("template",{slot:"content"},[r("div",e._l(e.categories,(function(t){return r("Chip",{key:t.id,attrs:{href:e.categoryHref(t.id)}},[e._v("\n        "+e._s(t.title)+"\n      ")])})),1),e._v(" "),r("h3",{staticClass:"u-mb--0 u-mt--1"},[e._v(e._s(e.name))]),e._v(" "),r("p",[e._v(e._s(e.description))]),e._v(" "),r("Button",{staticClass:"u-mt--auto",attrs:{href:e.link,type:"primary"}},[e._v("View product")])],1)],2)}),[],!1,null,null,null);t.a=component.exports},318:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));r(38);var o,n=r(7),c=r(140),d=r.n(c),l=r(65),f=r.n(l),m=r(315),h=r.n(m),v=(r(333),{get:(o=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://drupal-9-headless.lndo.site/jsonapi".concat(t),{httpsAgent:new h.a.Agent({rejectUnauthorized:!1})});case 2:return r=e.sent,e.abrupt("return",d.a.parse(r.data).data);case 4:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})});function _(){return v.get("/node/product?include=field_image,field_category")}},326:function(e,t){},327:function(e,t){},358:function(e,t,r){"use strict";r.r(t);r(55),r(39),r(69),r(208),r(141),r(101),r(40),r(38);var o=r(7),n=r(318),c=r(314),d=r(26),l=(r(140),r(315),{name:"products",components:{CardProduct:c.a,Grid:d.e,GridCol:d.f},data:function(){return{products:[],categoriesModel:[],locationsModel:[],query:""}},methods:{matchesCategoriesModel:function(e){return-1!==this.categoriesModel.indexOf(e.id)||0===this.categoriesModel.length},matchesLocationsModel:function(e){return-1!==this.locationsModel.indexOf(e.id)||0===this.locationsModel.length}},computed:{filteredProducts:function(){var e=this;return this.products.filter((function(t){return t.title.toLowerCase().includes(e.query.toLowerCase())&&t.field_category.some(e.matchesCategoriesModel)}))},categories:function(){var e={};return this.filteredProducts.forEach((function(t){t.field_category.forEach((function(t){e[t.id]=t}))})),e},locations:function(){return{}}},mounted:function(){this.$store.commit("page/setTitle","Search"),this.$store.commit("page/setBanner","")},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$axios,t.next=3,Object(n.a)();case 3:return r=t.sent,t.abrupt("return",{products:r});case 5:case"end":return t.stop()}}),t)})))()}}),f=r(2),component=Object(f.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"l-container"},[r("form",{staticClass:"u-mb--5"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"search",placeholder:"Search..."},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}})]),e._v(" "),r("Grid",[r("GridCol",{attrs:{xs:"3"}},[r("strong",[e._v("Category")]),e._v(" "),e._l(e.categories,(function(t){return r("div",{key:t.id},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.categoriesModel,expression:"categoriesModel"}],attrs:{type:"checkbox",id:"cat-"+t.id},domProps:{value:t.id,checked:Array.isArray(e.categoriesModel)?e._i(e.categoriesModel,t.id)>-1:e.categoriesModel},on:{change:function(r){var o=e.categoriesModel,n=r.target,c=!!n.checked;if(Array.isArray(o)){var d=t.id,l=e._i(o,d);n.checked?l<0&&(e.categoriesModel=o.concat([d])):l>-1&&(e.categoriesModel=o.slice(0,l).concat(o.slice(l+1)))}else e.categoriesModel=c}}}),e._v(" "),r("label",{attrs:{for:"cat-"+t.id}},[e._v(e._s(t.title))])])})),e._v(" "),r("strong",{staticClass:"u-mt--4"},[e._v("Location")]),e._v(" "),e._l(e.locations,(function(t){return r("div",{key:t.id},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.locationsModel,expression:"locationsModel"}],attrs:{type:"checkbox",id:t.id},domProps:{value:t.id,checked:Array.isArray(e.locationsModel)?e._i(e.locationsModel,t.id)>-1:e.locationsModel},on:{change:function(r){var o=e.locationsModel,n=r.target,c=!!n.checked;if(Array.isArray(o)){var d=t.id,l=e._i(o,d);n.checked?l<0&&(e.locationsModel=o.concat([d])):l>-1&&(e.locationsModel=o.slice(0,l).concat(o.slice(l+1)))}else e.locationsModel=c}}}),e._v(" "),r("label",{attrs:{for:t.id}},[e._v(e._s(t.name))])])}))],2),e._v(" "),r("GridCol",{attrs:{xs:"9"}},[r("Grid",e._l(e.filteredProducts,(function(e){return r("GridCol",{key:e.id,attrs:{xs:"4"}},[r("CardProduct",{attrs:{name:e.title,id:e.id,image:e.field_image,description:e.body.summary,categories:e.field_category}})],1)})),1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);